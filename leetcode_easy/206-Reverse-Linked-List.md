## 206. Reverse Linked List
##### 2018-03-30 16:22:31
##### é“¾è¡¨åè½¬
***
## 1.é¢˜ç›®
å°†ä¸€ä¸ªé“¾è¡¨åè½¬ï¼Œè¿”å›åè½¬åçš„å¤´ï¼Œæœ‰é€’å½’ä¸è¿­ä»£ä¸¤ç§å†™æ³•ã€‚
## 2.åˆ†æ
ä¸ªäººè®¤ä¸ºé“¾è¡¨å·²ç»ç¨å¾®æŒæ¡äº›äº†ï¼Œä½†æ˜¯çœ‹åˆ°è¿™ä¸ªé¢˜ç›®ä¹‹åæ²¡æœ‰ä»€ä¹ˆç›´æ¥çš„æƒ³æ³•ï¼Œæ›´ä¸æ•¢è¯´é€’å½’ã€‚  
çœ‹äº†åˆ«äººçš„ä»£ç ï¼Œè§£é‡Šä¸‹åŸç†ï¼š  
#### ğŸ“Œè¿­ä»£ï¼š
1. é¦–å…ˆæ’é™¤æ‰è¾“å…¥é“¾è¡¨ä¸ºç©ºçš„æƒ…å†µã€‚
2. å½“è¾“å…¥ä¸ä¸ºç©ºæ—¶ï¼Œæ–°å»ºä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆpï¼Œå€¼ä¸ºhead->next,æ¥ç€å°†headæŒ‡å‘çš„å…ƒç´ æ”¹ä¸ºç©ºã€‚
3. ç”¨whileå¯¹pè¿›è¡Œåˆ¤æ–­ï¼Œéç©ºæ‰§è¡Œå¢åŠ å¤´èŠ‚ç‚¹çš„æ“ä½œï¼Œæ³¨æ„ä¿å­˜p->nextï¼Œæ¯æ¬¡å¾ªç¯ç»“æŸä¹‹åå°†pçš„å€¼æ”¹ä¸ºp->nextã€‚
4. è¿”å›å¤´ã€‚

åŸç†ä¸ºéå†é“¾è¡¨ï¼Œä¸æ–­æ·»åŠ å¤´èŠ‚ç‚¹ã€‚
#### ğŸ“Œé€’å½’
é€’å½’æ¯”è¾ƒéš¾ç†è§£ï¼Œä¹Ÿæ¯”è¾ƒéš¾ä»¥å™è¿°ï¼Œå‚ç…§ä»£ç ï¼Œå°†è¿è¡Œè¿‡ç¨‹åœ¨çº¸ä¸Šå†™ä¸€ä¸‹ã€‚
## 3.ä»£ç 
```c
struct ListNode * reverseList(struct ListNode *head){
  if(head==NULL)
    return head;
  struct ListNode *p=head->next;  //ä¸ç”¨å¼€è¾Ÿç©ºé—´
  head->next=NULL;
  while(p){
    struct ListNode*temp=p->next; //æš‚å­˜
    p->next=head;
    head=p;
    p=temp;
  }
  return head;
}

//é€’å½’
struct ListNode *reverseList(struct ListNode *head){
  if(head==NULL || head->next==NULL)
    return head;  //é€’å½’å†™æ³•ä¸èƒ½åƒè¿­ä»£ä¸€æ ·åªè€ƒè™‘head=0
  struct ListNode *p=head->next;
  head->next=NULL;
  struct ListNode *newhead=reverseList(p);  //ç›®çš„æ˜¯åˆ¶é€ æœ€ç»ˆçš„å¤´
  p->next=head; //é“¾æ¥,å› ä¸ºpå€¼ä¸å˜ï¼Œè¯¥è¯­å¥å°†èŠ‚ç‚¹é“¾æ¥äº†èµ·æ¥
  return newhead;
}
```

***
2020å¹´3æœˆ2æ—¥æ›´æ–°

### ç¬¨æ–¹æ³•é€’å½’

é‡æ–°åšè¿™ä¸ªé¢˜ç›®ï¼Œæœ€ä½³çš„é€’å½’åšæ³•è¿˜æ˜¯æ²¡æœ‰ç«‹åˆ»æƒ³èµ·æ¥ï¼Œå†™äº†ä¸‹é¢çš„åšæ³•ï¼Œæ‰§è¡Œç”¨äº†32msã€‚æ€è·¯å¦‚ä¸‹ï¼š

é€’å½’çš„ç»“æœæ˜¯è¿”å›æ–°çš„é“¾è¡¨å¤´ï¼Œé€’å½’åŸºæ˜¾ç„¶æ˜¯é‡åˆ°ç©ºæŒ‡é’ˆæˆ–è€…å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼ˆå³é“¾è¡¨å°¾éƒ¨ï¼‰ã€‚å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯å¦‚ä½•å¯¹é€’å½’è¿‡ç¨‹ä¸­ç»è¿‡çš„ç»“ç‚¹è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºé€’å½’ç»“æœä¼šè¿”å›æ–°çš„é“¾è¡¨å¤´ï¼Œå½“å‰èŠ‚ç‚¹åº”è¯¥æ‹¼æ¥åˆ°æ–°çš„é“¾è¡¨ç»“æ„çš„æœ€åä½ç½®ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°çš„ç²—æš´æ–¹æ³•æ˜¯ç›´æ¥éå†é“¾è¡¨è¿›è¡Œæ‹¼æ¥ã€‚

### é€’å½’ä¼˜åŒ–

ä½†å¾ˆæ˜æ˜¾ä¸Šè¿°æ–¹æ³•ä¸èƒ½æœ‰æ•ˆåˆ©ç”¨æŒ‡é’ˆçš„ç‰¹ç‚¹ï¼Œæ¯å¤„ç†ä¸€ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ä¸€æ¬¡éå†åˆ—è¡¨ã€‚å®˜æ–¹é¢˜è§£ç»™å‡ºäº†æ›´æœ‰æ•ˆçš„è§£æ³•ï¼Œé€’å½’åŸºä¸å˜ï¼Œåœ¨å¤„ç†æ¯ä¸€ä¸ªè¿‡ç¨‹èŠ‚ç‚¹æ—¶ï¼Œè®¾æœ‰ä¸¤ä¸ªè¿ç»­çš„èŠ‚ç‚¹lã€rï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼ˆå¤„ç†lï¼‰ï¼š

1. å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘è‡ªèº«ã€‚å› ä¸ºåŸé“¾è¡¨æ˜¯é€’å½’å¤„ç†çš„ï¼Œå½“å¤„ç†læ—¶ï¼ŒrèŠ‚ç‚¹ä¸€å®šè¢«æå‰å¤„ç†è¿‡ï¼Œè€ŒæŒ‰ç…§åè½¬é“¾è¡¨çš„ç›®çš„ï¼ŒlèŠ‚ç‚¹åº”è¯¥ä½œä¸ºrèŠ‚ç‚¹çš„nextå…ƒç´ ã€‚
2. å°†lèŠ‚ç‚¹çš„nextç½®ç©ºï¼Œå› ä¸ºç¬¬ä¸€æ­¥å·²ç»å°†læ”¾åˆ°rçš„åé¢äº†ï¼Œä½†åŸæœ‰çš„å…³ç³»æ²¡å˜ï¼ŒäºŒè€…å½¢æˆäº†ç¯ï¼Œéœ€è¦å°†lèŠ‚ç‚¹çš„nextç½®ç©ºå°†ç¯ç ´åã€‚è¿™ä¹Ÿä½¿lçœŸæ­£ä½äºäº†é“¾è¡¨çš„å°¾éƒ¨ã€‚

### å†ä¼˜åŒ–ï¼ˆé›¾ï¼‰

ä»”ç»†æ€è€ƒï¼Œä¸Šè¿°æ­¥éª¤2æ˜¯å¯ä»¥å–æ¶ˆæ‰§è¡Œçš„ï¼Œå› ä¸ºä¸‹ä¸€ä¸ªé€’å½’å¤„ç†èŠ‚ç‚¹çš„æ­¥éª¤1ä¼šè¦†ç›–å½“å‰èŠ‚ç‚¹çš„æ­¥éª¤2ï¼Œé™¤äº†åŸæœ‰å¤´éƒ¨èŠ‚ç‚¹ã€‚å°†æ­¥éª¤ç®€åŒ–å¯ä»¥æœ‰ç¬¬ä¸‰ç§å†™æ³•ï¼Œæ­¤æ—¶éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä¸”éœ€è¦è¾…åŠ©å‡½æ•°ã€‚è™½ç„¶çœ‹èµ·æ¥æ²¡æœ‰ç¬¬äºŒç§æ–¹æ³•ç®€å•ï¼Œä½†æ˜¯æ¯æ¬¡å¤„ç†èŠ‚ç‚¹éƒ½ä¼šå°‘ä¸€æ¬¡å¹…å€¼ã€‚ä½†æœ€åçš„æ‰§è¡Œæ—¶é—´è¿˜æ˜¯8msã€‚

### å…¶ä»–

æœ€åå†™äº†ä¸€ç§whileå¾ªç¯éå†ä¸€æ¬¡æ”¹å˜æŒ‡å‘çš„æ–¹æ³•ï¼Œæœ€åæ‰§è¡Œæ—¶é—´æ˜¯12msï¼Œæ›´æ…¢äº†ã€‚

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        if(head == NULL || head->next == NULL)
            return head;
        ListNode* nextNode = reverseList(head->next);
        ListNode* tmp = head;
        tmp->next = NULL;
        head = nextNode;
        while(nextNode->next){
            nextNode = nextNode->next;
        }
        nextNode->next = tmp;
        return head;
    }

    // é€’å½’
    ListNode* reverseList2(ListNode* head) {
        if(head == NULL || head->next == NULL)
            return head;
        ListNode* newHead = reverseList(head->next);
        
        head->next->next = head;
        head->next = NULL;
        return newHead;
    }

    // ç®€åŒ–
    ListNode* res;
    void helper(ListNode* head){
        if(head->next == NULL){
            res = head;
            return ;
        }
        helper(head->next);
        head->next->next = head;
    }
    ListNode* reverseList3(ListNode* head) {
        if(!head || head->next == NULL)
            return head;
        helper(head);
        head->next = NULL;  //éœ€è¦ç‰¹æ®Šå¤„ç†
        return res;
    }

    // whileå¾ªç¯
    ListNode* reverseList4(ListNode* head) {
        if(!head)
            return head;
        ListNode* cur = head->next;
        head->next = NULL;
        while(cur){
            ListNode* tmp = cur->next;
            cur->next = head;
            head = cur;
            cur = tmp;
        }
        return head;
    }
};


```
